<%- include('./partials/header') %>

<div class="min-h-screen flex justify-center items-start px-10 py-20">
  <main class="w-[60%] bg-white p-8 shadow">
    <h2 class="text-xl font-bold mb-4">Edit Product</h2>

    <form action="/products/edit/<%= product._id %>" method="POST" enctype="multipart/form-data">
      <div class="mb-6">
        <h3 class="text-lg font-semibold mb-2">Product Details</h3>
        <div class="mb-4">
          <label class="block mb-2 font-medium">Product Image</label>
          <input name="image" type="file" class="py-2 px-4 rounded" />
          <% if (product.image) { %>
            <img src="data:image/png;base64,<%= product.image.toString('base64') %>" alt="Preview" class="mt-2 w-32 h-32 object-cover" />
          <% } %>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <input name="name" type="text" placeholder="Product Name" class="border p-2 rounded w-full" value="<%= product.name %>" />
          <input name="price" type="text" placeholder="Product Price" class="border p-2 rounded w-full" value="<%= product.price %>" />
          <input name="discount" type="text" placeholder="Discount Price" class="border p-2 rounded w-full" value="<%= product.discount %>" />
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-2">Panel Details</h3>
        <div class="grid grid-cols-2 gap-4">
          <input name="bgcolor" type="text" placeholder="Background Color" class="border p-2 rounded w-full" value="<%= product.bgcolor %>" />
          <input name="panelcolor" type="text" placeholder="Panel Color" class="border p-2 rounded w-full" value="<%= product.panelcolor %>" />
          <input name="textcolor" type="text" placeholder="Text Color" class="border p-2 rounded w-full" value="<%= product.textcolor %>" />
        </div>
      </div>

      <input class="px-5 py-2 rounded mt-4 bg-green-500 text-white" type="submit" value="Update Product" />
    </form>
  </main>
</div>

<%- include('./partials/footer') %>
